<Window x:Class="Kursovaya.Views.AddUserWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Добавление пользователя" 
        Height="550" Width="550" 
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundGradient}">
    <Border CornerRadius="10" 
            Background="White"
            BorderBrush="#2196F3"
            BorderThickness="2"
            Margin="15">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Заголовок -->
            <Border Grid.Row="0" 
                    Background="{StaticResource ButtonGradient}"
                    CornerRadius="8,8,0,0"
                    Padding="20,15">
                <TextBlock Text="➕ ДОБАВЛЕНИЕ ПОЛЬЗОВАТЕЛЯ" 
                           FontSize="18" 
                           FontWeight="Bold" 
                           Foreground="White"
                           HorizontalAlignment="Center"
                           TextWrapping="Wrap"/>
            </Border>

            <!-- Форма -->
            <ScrollViewer Grid.Row="1" 
                          VerticalScrollBarVisibility="Auto"
                          Padding="30,25,30,20">
                <StackPanel>
                    <StackPanel Margin="0,0,0,18">
                        <TextBlock Text="Email *" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryColor}"
                                   Margin="0,0,0,6"/>
                        <TextBox x:Name="EmailBox" 
                                 Height="40"
                                 FontSize="14"
                                 TextChanged="EmailBox_TextChanged"
                                 KeyDown="EmailBox_KeyDown"
                                 TextWrapping="NoWrap"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,18">
                        <TextBlock Text="Телефон" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryColor}"
                                   Margin="0,0,0,6"/>
                        <TextBox x:Name="PhoneBox" 
                                 Height="40"
                                 FontSize="14"
                                 Text="+7 (999) "
                                 TextWrapping="NoWrap"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,18">
                        <TextBlock Text="Роль *" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryColor}"
                                   Margin="0,0,0,6"/>
                        <ComboBox x:Name="RoleCombo" 
                                  Height="40"
                                  FontSize="14"
                                  SelectedIndex="0">
                            <ComboBoxItem Content="Employee" Tag="Employee"/>
                            <ComboBoxItem Content="Warehouse" Tag="Warehouse"/>
                            <ComboBoxItem Content="Admin" Tag="Admin"/>
                        </ComboBox>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,18">
                        <TextBlock Text="Пароль" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryColor}"
                                   Margin="0,0,0,6"/>
                        <PasswordBox x:Name="PasswordBox" 
                                     Height="40"
                                     FontSize="14"
                                     Password="12345"
                                     PasswordChanged="PasswordBox_PasswordChanged"
                                     KeyDown="PasswordBox_KeyDown"/>
                        <TextBlock x:Name="PasswordHintText"
                                   Text="По умолчанию: 12345 (можно изменить)" 
                                   FontSize="11" 
                                   Foreground="{StaticResource TextSecondaryColor}"
                                   Margin="0,4,0,0"
                                   FontStyle="Italic"
                                   TextWrapping="Wrap"/>
                    </StackPanel>

                    <CheckBox x:Name="IsActiveCheckBox" 
                              Content="Пользователь активен" 
                              FontSize="13"
                              IsChecked="True"
                              Margin="0,5,0,0"/>
                </StackPanel>
            </ScrollViewer>

            <!-- Кнопки -->
            <Border Grid.Row="2" 
                    Background="#F5F5F5" 
                    CornerRadius="0,0,8,8"
                    Padding="20,15"
                    BorderBrush="#E0E0E0"
                    BorderThickness="0,1,0,0">
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Right">
                    <Button Content="Отмена" 
                            Width="130" 
                            Height="38"
                            Click="Cancel_Click"
                            Background="#757575"
                            Margin="0,0,10,0">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                <Setter Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#9E9E9E" Offset="0"/>
                                            <GradientStop Color="#757575" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#616161"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Content="Добавить" 
                            Width="130" 
                            Height="38"
                            Click="Add_Click"
                            x:Name="AddButton"
                            IsEnabled="False"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
